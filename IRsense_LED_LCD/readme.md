Here is the code that combined the 3 features 
